<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>mysql_of_commands</title><link rel="stylesheet" type="text/css" href="../css/blogstyle.css"><link rel="stylesheet" type="text/css" href="../css/fonts.css"><link rel="stylesheet" type="text/css" href="../css/fontello/css/fontello.css"><link rel="stylesheet" type="text/css" href="../fonts/font-awesome/css/font-awesome.css"><link rel="shortcut icon" href="http://liu946.github.io/image/favicon.png"></head><body><aside id="sidebar"><nav id="tags"><a id="avatar" href="index.html"></a><ul id="tags__ul"><li id="js-label1" onclick="window.location=&quot;/blog/blog.html&quot;" class="tags__li tags-btn active">全部文章</li><li id="js-label2" class="tags__li tags-btn">思想</li><li id="js-label3" class="tags__li tags-btn">技术</li><li id="js-label4" class="tags__li tags-btn">技巧</li><li id="js-label5" class="tags__li tags-btn">随笔</li><li id="js-label6" class="tags__li tags-btn">竞赛</li></ul><div id="tags__bottom"><a href="mailto:hwj950504@icloud.com" class="tags-btn fontello"><i class="fa fa-envelope"></i></a><a href="rss.xml" class="tags-btn fontello"><i class="fa fa-rss"></i></a></div></nav><div id="posts-list"><form id="search-form" action="./"><a id="mobile-avatar" href="index.html"></a><input id="search-input" type="text" placeholder="Search..." disabled></form><nav id="pl__container"><a href="/blog/beibaowenti.html" class="think pl__all"><span class="pl__circle"></span><span class="pl__title">背包问题</span><span class="pl__date">2016.1.15</span></a><a href="/blog/functional_programming.html" class="think pl__all"><span class="pl__circle"></span><span class="pl__title">函数式编程</span><span class="pl__date">2015.4.5</span></a><a href="/blog/async&amp;sync.html" class="think pl__all"><span class="pl__circle"></span><span class="pl__title">异步与同步</span><span class="pl__date">2015.3.7</span></a><a href="/blog/jquery_selfevent.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">jQuery自定义事件</span><span class="pl__date">2016.1.16</span></a><a href="/blog/concurrent_skill.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">处理并发的一些技巧和思想</span><span class="pl__date">2015.11.27</span></a><a href="/blog/canvas_read.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">使用Canvas进行验证码识别</span><span class="pl__date">2015.10.18</span></a><a href="/blog/php_request.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">php发送请求方法简明总结</span><span class="pl__date">2015.10.18</span></a><a href="/blog/tomcat_session_leak.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">Apache Tomcat样例目录session操纵漏洞</span><span class="pl__date">2015.10.9</span></a><a href="/blog/js_activexobject.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">JavaScript中的ActiveXObject对象</span><span class="pl__date">2015.10.8</span></a><a href="/blog/X_Frame_Options.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">X-Frame-Options 响应头</span><span class="pl__date">2015.10.8</span></a><a href="/blog/jquery_deferredandpromise.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">jQuery Deferred和Promise创建响应式应用程序详细介绍</span><span class="pl__date">2015.10.8</span></a><a href="/blog/sqlmap_use.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">sqlmap用户手册</span><span class="pl__date">2015.10.1</span></a><a href="/blog/js_TopParentIframe.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">js中的top、parent、frame</span><span class="pl__date">2015.10.1</span></a><a href="/blog/node_get_IPaddress.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">node获取客户端IP地址</span><span class="pl__date">2015.10.1</span></a><a href="/blog/css3_matrix.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">理解CSS3 transform中的Matrix</span><span class="pl__date">2015.9.28</span></a><a href="/blog/viewpoint.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">viewpoint和他的朋友们</span><span class="pl__date">2015.6.10</span></a><a href="/blog/submit_File.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">文件提交方式总结</span><span class="pl__date">2015.6.7</span></a><a href="/blog/mysql_of_commands.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">Mysql 命令大全</span><span class="pl__date">2015.5.15</span></a><a href="/blog/mousewheel.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">js中鼠标滚轮事件详解</span><span class="pl__date">2015.5.12</span></a><a href="/blog/mobie_adaption.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">移动端适应与小技巧</span><span class="pl__date">2015.5.10</span></a><a href="/blog/js_preventmodification.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">JS阻止对象的修改</span><span class="pl__date">2015.5.6</span></a><a href="/blog/js_Delegation.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">Javascript事件代理和委托（Delegation）</span><span class="pl__date">2015.5.4</span></a><a href="/blog/jquery_dynamic_load_js.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">使用jQuery动态加载js脚本文件的方法</span><span class="pl__date">2015.5.1</span></a><a href="/blog/javascript_special_skill.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">你可能不知道的javascript奇淫技巧</span><span class="pl__date">2015.4.26</span></a><a href="/blog/javascript_of_new,this,call,apply.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">Javascript技术难点之new,this,call,apply</span><span class="pl__date">2015.4.21</span></a><a href="/blog/javascript_of_map_reduce_filter.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">JavaScript实现Map、Reduce和Filter</span><span class="pl__date">2015.4.20</span></a><a href="/blog/javascript_cross-domain.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">JavaScript跨域总结与解决办法</span><span class="pl__date">2015.4.16</span></a><a href="/blog/ie6_compatiable_10skills.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">解决IE6兼容性问题的十大技巧</span><span class="pl__date">2015.4.15</span></a><a href="/blog/H5_animation_60fps.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">H5动画60fps之路</span><span class="pl__date">2015.4.10</span></a><a href="/blog/es6_new_properties.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">ES6新特性概览</span><span class="pl__date">2015.4.5</span></a><a href="/blog/dom_event_flow.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">JS DOM操作入门</span><span class="pl__date">2015.4.3</span></a><a href="/blog/css_remove_float.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">CSS清除浮动</span><span class="pl__date">2015.3.31</span></a><a href="/blog/css_character.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">网页中嵌入字体的解决方案</span><span class="pl__date">2015.3.26</span></a><a href="/blog/css_center_horizontally.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">CSS水平垂直居中</span><span class="pl__date">2015.3.25</span></a><a href="/blog/css3_pointer-events.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">CSS3之pointer-events属性值详解</span><span class="pl__date">2015.3.21</span></a><a href="/blog/css3_grid.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">CSS3 Grid布局：网格布局让内容优先</span><span class="pl__date">2015.3.18</span></a><a href="/blog/css3_box-display.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">CSS3盒模型display:box详解</span><span class="pl__date">2015.3.15</span></a><a href="/blog/browser_caching.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">浏览器缓存</span><span class="pl__date">2015.3.9</span></a><a href="/blog/browser_compatiable.html" class="tech pl__all"><span class="pl__circle"></span><span class="pl__title">浏览器兼容</span><span class="pl__date">2015.3.9</span></a><a href="/blog/wget.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">wget 递归下载整个网站</span><span class="pl__date">2015.12.13</span></a><a href="/blog/netstat_introduce.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">netstat命令详解</span><span class="pl__date">2015.10.18</span></a><a href="/blog/nc_introduce.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">nc命令详解</span><span class="pl__date">2015.10.18</span></a><a href="/blog/kali_breakwifiwpa.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">利用kali破解wifi密码全过程</span><span class="pl__date">2015.10.8</span></a><a href="/blog/quickly_options.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">快捷操作大全</span><span class="pl__date">2015.6.5</span></a><a href="/blog/python_http,ftp.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">使用python创建简单的HTTP和FTP服务</span><span class="pl__date">2015.5.20</span></a><a href="/blog/os_yosemitemac_mac_change.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">OS X 10.10 Yosemite 修改网卡 Mac 地址的方法</span><span class="pl__date">2015.5.17</span></a><a href="/blog/git_command.html" class="skill pl__all"><span class="pl__circle"></span><span class="pl__title">git命令</span><span class="pl__date">2015.4.7</span></a><a href="/blog/hitcon2015_web100.html" class="exam pl__all"><span class="pl__circle"></span><span class="pl__title">Hitcon2015CTF web100</span><span class="pl__date">2015.10.20</span></a><a href="/blog/hitcon2015_web300.html" class="exam pl__all"><span class="pl__circle"></span><span class="pl__title">Hitcon2015CTF web300</span><span class="pl__date">2015.10.20</span></a><a href="/blog/xdctf2015_web2.html" class="exam pl__all"><span class="pl__circle"></span><span class="pl__title">XDctf2015 web2</span><span class="pl__date">2015.10.8</span></a></nav></div></aside><div id="post"><div id="pjax"><div id="post__content" style="font-size: 100%;"><article><h1>Mysql 命令大全</h1>

<h3>1. 连接mysql</h3>

<p>键入命令</p>

<pre><code>mysql -u root -p</code></pre>

<p>回车后提示你输密码.注意用户名前可以有空格也可以没有空格，但是密码前必须没有空格，否则让你重新输入密码。</p>

<p>如果刚安装好MYSQL，超级用户root是没有密码的，故直接回车即可进入到MYSQL中了，MYSQL的提示符是：</p>

<pre><code>mysql&gt;</code></pre>

<p>连接到远程主机上的MYSQL。假设远程主机的IP为：110.110.110.110，用户名为root,密码为abcd123。则键入以下命令：</p>

<pre><code>mysql -h110.110.110.110 -u root -p 123</code></pre>

<p>退出MYSQL命令： exit （回车）</p>

<h3>2. 修改密码</h3>

<ol><li><p>给root加个密码ab12。进入目录mysql\bin，然后键入以下命令</p><pre><code>mysqladmin -u root -password ab12</code></pre></li></ol>

<p>注：因为开始时root没有密码，所以-p旧密码一项就可以省略了。</p>

<ol><li><p>再将root的密码改为djg345。</p><pre><code>mysqladmin -u root -p ab12 password djg345</code></pre></li></ol>

<h3>3. 增加新用户</h3>

<ol><li><p>增加一个用户test1密码为abc，让他可以在任何主机上登录，并对所有数据库有查询、插入、修改、删除的权限。首先用root用户连入MYSQL，然后键入以下命令：</p><pre><code>grant select,insert,update,delete on *.* to [email=test1@”%]test1@”%[/email]” Identified by “abc”;</code></pre></li></ol>

<p>但增加的用户是十分危险的，你想如某个人知道test1的密码，那么他就可以在internet上的任何一台电脑上登录你的mysql数据库并对你的数据可以为所欲为了，解决办法见2。</p>

<ol><li><p>增加一个用户test2密码为abc,让他只可以在localhost上登录，并可以对数据库mydb进行查询、插入、修改、删除的操作（localhost指本地主机，即MYSQL数据库所在的那台主机），这样用户即使用知道test2的密码，他也无法从internet上直接访问数据库，只能通过MYSQL主机上的web页来访问了。</p><pre><code>grant select,insert,update,delete on mydb.* to [email=test2@localhost]test2@localhost[/email] identified by “abc”;</code></pre></li></ol>

<p>如果你不想test2有密码，可以再打一个命令将密码消掉。</p>

<pre><code>    grant select,insert,update,delete on mydb.* to [email=test2@localhost]test2@localhost[/email] identified by “”;</code></pre>

<h3>4. 数据库操作</h3>

<ol><li><p>建立一个名为xhkdb的数据库</p><pre><code>mysql&gt; create database xhkdb;</code></pre></li><li><p>创建数据库并分配用户</p><ol><li>CREATE DATABASE 数据库名;</li><li>GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON 数据库名.* TO 数据库名@localhost IDENTIFIED BY &#39;密码&#39;;</li><li><p>SET PASSWORD FOR &#39;数据库名&#39;@&#39;localhost&#39; = OLD_PASSWORD(&#39;密码&#39;);</p><blockquote><p>依次执行3个命令完成数据库创建。注意：中文 “密码”和“数据库”是户自己需要设置的。</p></blockquote></li></ol></li><li><p>显示数据库
show databases （注意：最后有个s）</p><pre><code>mysql&gt; show databases;</code></pre><ol><li><p>修改MYSQL的配置文件：my.ini里面修改default-character-set=gbk</p></li><li><p>代码运行时修改：</p><ol><li>Java代码：jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=gbk</li><li>PHP代码：header(&quot;Content-Type:text/html;charset=gb2312&quot;);</li><li><p>C语言代码：int mysql<em>set</em>character_set( MYSQL <em> mysql, char </em> csname)；</p><p>&gt;该函数用于为当前连接设置默认的字符集。字符串csname指定了1个有效的字符集名称。连接校对成为字符集的默认校对。该函数的工作方式与SET NAMES语句类似，但它还能设置mysql- &gt; charset的值，从而影响了由mysql<em>real</em>escape_string() 设置的字符集。</p></li></ol></li></ol></li><li><p>删除数据库
drop database &lt;数据库名&gt;
例如：删除名为 xhkdb的数据库</p><p>  mysql&gt; drop database xhkdb;</p><ol><li><p>删除一个已经确定存在的数据库</p><p>  mysql&gt; drop database drop_database;
  Query OK, 0 rows affected (0.00 sec)</p></li><li><p>删除一个不确定存在的数据库</p><p>  mysql&gt; drop database drop<em>database;
  ERROR 1008 (HY000): Can&#39;t drop database &#39;drop</em>database&#39;; database doesn&#39;t exist//发生错误，不能删除&#39;drop<em>database&#39;数据库，该数据库不存在。
  mysql&gt; drop database if exists drop</em>database;
  Query OK, 0 rows affected, 1 warning (0.00 sec)//产生一个警告说明此数据库不存在
  mysql&gt; create database drop<em>database;
  Query OK, 1 row affected (0.00 sec)
  mysql&gt; drop database if exists drop</em>database;//if exists 判断数据库是否存在，不存在也不产生错误
  Query OK, 0 rows affected (0.00 sec)</p></li></ol></li><li><p>连接数据库
如果xhkdb数据库存在，尝试存取它：</p><p>mysql&gt; use xhkdb;
Database changed</p><ol><li><p>use 语句可以通告MySQL把db_name数据库作为默认（当前）数据库使用，用于后续语句。该数据库保持为默认数据库，直到语段的结尾，或者直到发布一个不同的USE语句：</p><p>  mysql&gt; USE db1;
  mysql&gt; SELECT COUNT(<em>) FROM mytable;   # selects from db1.mytable
  mysql&gt; USE db2;
  mysql&gt; SELECT COUNT(</em>) FROM mytable;   # selects from db2.mytable</p></li><li><p>使用USE语句为一个特定的当前的数据库做标记，不会阻碍您访问其它数据库中的表。下面的例子可以从db1数据库访问作者表，并从db2数据库访问编辑表：</p><p>  mysql&gt; USE db1;
  mysql&gt; SELECT author<em>name,editor</em>name FROM author,db2.editor
     -&gt;WHERE author.editor<em>id = db2.editor.editor</em>id;</p></li><li><p>USE语句被设立出来，用于与Sybase相兼容。
  &gt;有些网友问到，连接以后怎么退出。其实，不用退出来，use 数据库后，使用show databases就能查询所有数据库，如果想跳到其他数据库，用
     use 其他数据库名字
  就可以了。</p></li></ol></li><li><p>当前选择的数据库</p><p>mysql&gt; select database();</p></li></ol>

<p>MySQL中SELECT命令类似于其他编程语言里的print或者write，你可以用它来显示一个字符串、数字、数学表达式的结果等等。如何使用MySQL中SELECT命令的特殊功能？</p>

<ol><li><p>显示MYSQL的版本</p><pre><code>  mysql&gt; select version();
  +-----------------------+
  | version()             |
  +-----------------------+
  | 6.0.4-alpha-community |
  +-----------------------+
  1 row in set (0.02 sec)</code></pre></li><li><p>显示当前时间</p><pre><code>  mysql&gt; select now();
  +---------------------+
  | now()               |
  +---------------------+
  | 2009-09-15 22:35:32 |
  +---------------------+
  1 row in set (0.04 sec)</code></pre></li><li><p>显示年月日</p><pre><code>  SELECT DAYOFMONTH(CURRENT_DATE);
  +--------------------------+
  | DAYOFMONTH(CURRENT_DATE) |
  +--------------------------+
  |                       15 |
  +--------------------------+
  1 row in set (0.01 sec)

  SELECT MONTH(CURRENT_DATE);
  +---------------------+
  | MONTH(CURRENT_DATE) |
  +---------------------+
  |                   9 |
  +---------------------+
  1 row in set (0.00 sec)

  SELECT YEAR(CURRENT_DATE);
  +--------------------+
  | YEAR(CURRENT_DATE) |
  +--------------------+
  |               2009 |
  +--------------------+
  1 row in set (0.00 sec)</code></pre></li><li><p>显示字符串</p><pre><code>  mysql&gt; SELECT &quot;welecome to my blog!&quot;;
  +----------------------+
  | welecome to my blog! |
  +----------------------+
  | welecome to my blog! |
  +----------------------+
  1 row in set (0.00 sec)</code></pre></li><li><p>当计算器用</p><pre><code>  select ((4 * 4) / 10 ) + 25;
  +----------------------+
  | ((4 * 4) / 10 ) + 25 |
  +----------------------+
  |                26.60 |
  +----------------------+
  1 row in set (0.00 sec)</code></pre></li><li><p>串接字符串</p><pre><code>  select CONCAT(f_name, &quot; &quot;, l_name)
  AS Name
  from employee_data
  where title = &#39;Marketing Executive&#39;;
  +---------------+
  | Name          |
  +---------------+
  | Monica Sehgal |
  | Hal Simlai    |
  | Joseph Irvine |
  +---------------+
  3 rows in set (0.00 sec)</code></pre><p>&gt;注意：这里用到CONCAT()函数，用来把字符串串接起来。另外，我们还用到以前学到的AS给结果列&#39;CONCAT(f<em>name, &quot; &quot;, l</em>name)&#39;起了个假名。</p></li></ol>

<h3>5. 数据表操作</h3>

<h4>创建数据表</h4>

<pre><code>create table &lt;表名&gt; ( &lt;字段名1&gt; &lt;类型1&gt; [,..&lt;字段名n&gt; &lt;类型n&gt;]);</code></pre>

<p>例如，建立一个名为MyClass的表</p>

<p>|字段名	|数字类型	|数据宽度	|是否为空	|是否主键	|自动增加	|默认值|
| ------|		|		|		|		|		|		|
|id		|int	|4		|否		|primary key	|	auto_increment 	|	|
|name	|char	|20		|否	 	|	 	 		|					|	|
|sex	|int	|4		|否	 	|	 			|					|0	|
|degree	|double	|16		|是		|				|					|	| |</p>

<pre><code>mysql&gt; create table MyClass(
&gt; id int(4) not null primary key auto_increment,
&gt; name char(20) not null,
&gt; sex int(4) not null default &#39;0&#39;,
&gt; degree double(16,2));</code></pre>

<h4>删除数据表</h4>

<p>drop table &lt;表名&gt;</p>

<p>例如：删除表名为 MyClass 的表</p>

<pre><code>mysql&gt; drop table MyClass;</code></pre>

<p>DROP TABLE用于取消一个或多个表。您必须有每个表的DROP权限。所有的表数据和表定义会被取消，所以使用本语句要小心！</p>

<blockquote><p>注意：对于一个带分区的表，DROP TABLE会永久性地取消表定义，取消各分区，并取消储存在这些分区中的所有数据。DROP TABLE还会取消与被取消的表有关联的分区定义（.par）文件。</p></blockquote>

<p>对与不存在的表，使用IF EXISTS用于防止错误发生。当使用IF EXISTS时，对于每个不存在的表，会生成一个NOTE。</p>

<p>RESTRICT和CASCADE可以使分区更容易。目前，RESTRICT和CASCADE不起作用。</p>

<h4>表插入数据</h4>

<pre><code>insert into &lt;表名&gt; [( &lt;字段名1&gt;[,..&lt;字段名n &gt; ])] values ( 值1 )[, ( 值n )]</code></pre>

<p>例如：往表 MyClass中插入二条记录, 这二条记录表示：编号为1的名为Tom的成绩为96.45, 编号为2 的名为Joan 的成绩为82.99， 编号为3 的名为Wang 的成绩为96.5。</p>

<p>   mysql&gt; insert into MyClass values(1,&#39;Tom&#39;,96.45),(2,&#39;Joan&#39;,82.99), (2,&#39;Wang&#39;, 96.59);</p>

<blockquote><p>注意：insert into每次只能向表中插入一条记录。</p></blockquote>

<h4>查询表中的数据</h4>

<ol><li><p>查询所有行
命令： select &lt;字段1，字段2，...&gt; from &lt; 表名 &gt; where &lt; 表达式 &gt;
例如：查看表 MyClass 中所有数据</p><p>mysql&gt; select * from MyClass;</p></li><li><p>查询前几行数据
例如：查看表 MyClass 中前2行数据</p><p>mysql&gt; select * from MyClass order by id limit 0,2;</p></li></ol>

<p>select一般配合where使用，以查询更精确更复杂的数据。</p>

<h4>删除表中数据</h4>

<p>delete from 表名 where 表达式</p>

<p>例如：删除表 MyClass中编号为1 的记录</p>

<pre><code>mysql&gt; delete from MyClass where id=1;</code></pre>

<p>下面是一个删除数据前后表的对比。</p>

<p>|FirstName	|LastName	|Age|
| ----- | | |
|Peter		|Griffin	|35	|
|Glenn		|Quagmire	|33	|</p>

<p>下面以PHP代码为例删除 &quot;Persons&quot; 表中所有 LastName=&#39;Griffin&#39; 的记录：</p>

<pre><code>?php
   $con = mysql_connect(&quot;localhost&quot;,&quot;peter&quot;,&quot;abc123&quot;);
   if (!$con)
   {
      die(&#39;Could not connect: &#39; . mysql_error());
   }
   mysql_select_db(&quot;my_db&quot;, $con);
   mysql_query(&quot;DELETE FROM Persons WHERE LastName=&#39;Griffin&#39;&quot;); mysql_close($con);
?</code></pre>

<p>在这次删除之后，表是这样的：</p>

<p>|FirstName	|LastName	|Age|
| ----- | | |
|Glenn		|Quagmire	|33	|</p>

<h4>修改表中数据</h4>

<p>update 表名 set 字段=新值,… where 条件</p>

<pre><code>mysql&gt; update MyClass set name=&#39;Mary&#39; where id=1;</code></pre>

<p>例子1：单表的MySQL UPDATE语句：</p>

<pre><code>UPDATE [LOW_PRIORITY] [IGNORE] tbl_name SET col_name1=expr1 [, col_name2=expr2 ...] [WHERE where_definition] [ORDER BY ...] [LIMIT row_count]</code></pre>

<p>例子2：多表的UPDATE语句：</p>

<pre><code>UPDATE [LOW_PRIORITY] [IGNORE] table_references SET col_name1=expr1 [, col_name2=expr2 ...] [WHERE where_definition]</code></pre>

<p>UPDATE语法可以用新值更新原有表行中的各列。SET子句指示要修改哪些列和要给予哪些值。WHERE子句指定应更新哪些行。如果没有WHERE子句，则更新所有的行。如果指定了ORDER BY子句，则按照被指定的顺序对行进行更新。LIMIT子句用于给定一个限值，限制可以被更新的行的数目。</p>

<ol><li><p>查询字段</p><p>desc table_name</p></li></ol>

<p>返回的是字段的结构</p>

<ol><li><p>增加字段</p><ul><li><p>命令：alter table 表名 add字段 类型 其他;</p></li><li><p>例如：在表MyClass中添加了一个字段passtest，类型为int(4)，默认值为0</p><p>mysql&gt; alter table MyClass add passtest int(4) default &#39;0&#39;</p></li></ul></li><li><p>加索引</p><p>mysql&gt; alter table 表名 add index 索引名 (字段名1[，字段名2 …]);</p></li></ol>

<p>例子：</p>

<pre><code>mysql&gt; alter table employee add index emp_name (name);</code></pre>

<ul><li><p>加主关键字的索引</p><pre><code>mysql&gt; alter table 表名 add primary key (字段名);</code></pre><p>例子：</p><pre><code>mysql&gt; alter table employee add primary key(id);</code></pre></li><li><p>加唯一限制条件的索引</p><pre><code>mysql&gt; alter table 表名 add unique 索引名 (字段名);</code></pre><p>例子：</p><p>mysql&gt; alter table employee add unique emp_name2(cardnumber);</p><ol><li><p>删除某个索引</p><p>mysql&gt; alter table 表名 drop index 索引名;</p></li></ol></li></ul>

<p>例子：</p>

<pre><code>mysql&gt;alter table employee drop index emp_name;</code></pre>

<ol><li><p>修改原字段名称及类型：</p><p>mysql&gt; ALTER TABLE table<em>name CHANGE old</em>field<em>name new</em>field<em>name field</em>type;</p></li></ol>

<h4>修改表名</h4>

<p>命令：rename table 原表名 to 新表名;</p>

<p>例如：在表MyClass名字更改为YouClass</p>

<pre><code>mysql&gt; rename table MyClass to YouClass;</code></pre>

<p>当你执行 RENAME 时，你不能有任何锁定的表或活动的事务。你同样也必须有对原初表的 ALTER 和 DROP 权限，以及对新表的 CREATE 和 INSERT 权限。</p>

<p>如果在多表更名中，MySQL 遭遇到任何错误，它将对所有被更名的表进行倒退更名，将每件事物退回到最初状态。</p>

<p>RENAME TABLE 在 MySQL 3.23.23 中被加入。</p>

<h3>6. 备份数据库</h3>

<ol><li><p>导出整个数据库
导出文件默认是存在mysql\bin目录下</p><p>mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名
mysqldump -u user<em>name -p123456 database</em>name &gt; outfile_name.sql</p></li><li><p>导出一个表</p><p>mysqldump -u 用户名 -p 数据库名 表名&gt; 导出的文件名
mysqldump -u user<em>name -p database</em>name table<em>name &gt; outfile</em>name.sql</p></li><li><p>导出一个数据库结构</p><p>mysqldump -u user<em>name -p -d –add-drop-table database</em>name &gt; outfile_name.sql
-d 没有数据 –add-drop-table 在每个create语句之前增加一个drop table</p></li><li><p>带语言参数导出</p><p>mysqldump -uroot -p –default-character-set=latin1 –set-charset=gbk –skip-opt database<em>name &gt; outfile</em>name.sql</p></li></ol>

<p>例如，将aaa库备份到文件back_aaa中：</p>

<pre><code>[root@test1 root]# cd　/home/data/mysql
[root@test1 mysql]# mysqldump -u root -p --opt aaa &gt; back_aaa</code></pre></article></div><div class="index"><div id="post__share"><a id="icon-qq" href="http://user.qzone.qq.com/1476837906" target="_blank" class="fontello"><i class="fa fa-qq"></i></a><a id="icon-github" href="https://github.com/JJjie" target="_blank" class="fontello"><i class="fa fa-github"></i></a><a id="icon-weibo" href="http://www.weibo.com/3836806618/profile?topnav=1&amp;wvr=6" target="_blank" class="fontello"><i class="fa fa-weibo"></i></a></div><p id="copyright" style="border-top: 2px solid rgba(229, 232, 236, 0);">Author<a href="index.html" target="_blank">Hankin Jie</a></p></div></div></div><button id="js-fullscreen"><span id="icon-arrow" class="fontello"></span></button><script src="../js/jquery.1.11.1.js"></script><script src="../js/jquery.pjax.js"></script><script src="../js/nprogress.js"></script><script src="../js/script.js"></script><script tupe="text/javascript">function getPar(par){
    //获取当前URL
    var local_url = document.location.href;
    //获取要取得的get参数位置
    var get = local_url.indexOf(par +"=");
    if(get == -1){
        return false;
    }
    //截取字符串
    var get_par = local_url.slice(par.length + get + 1);
    //判断截取后的字符串是否还有其他get参数
    var nextPar = get_par.indexOf("&");
    if(nextPar != -1){
        get_par = get_par.slice(0, nextPar);
    }
        return get_par;
}
if(getPar('show')=='full')
{
    document.getElementById('pjax').setAttribute('class','fullscreen');
    sidebar=document.getElementById('sidebar');
    sidebar.style.display='none';
    sidebar.setAttribute('class','fullscreen');
}</script></body></html>