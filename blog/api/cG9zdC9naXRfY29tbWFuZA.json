{"title":"git命令","date":"2015-04-07T13:00:00.000Z","slug":"git_command","tags":["工程"],"categories":["工具"],"updated":"2020-01-29T02:13:24.000Z","content":"<h1 id=\"git命令\">git命令<a href=\"post/git_command#git命令\"></a></h1><h2 id=\"基础设置\">基础设置<a href=\"post/git_command#基础设置\"></a></h2><h3 id=\"用户设置\">用户设置<a href=\"post/git_command#用户设置\"></a></h3><ul>\n<li><code>$ git config --global user.name &quot;Your Name&quot;</code></li>\n<li><code>$ git config --global user.email &quot;email@example.com&quot;</code></li>\n</ul>\n<h3 id=\"初始化仓库\">初始化仓库<a href=\"post/git_command#初始化仓库\"></a></h3><ul>\n<li><code>$ git init</code></li>\n<li>Initialized empty Git repository in /Users/learngit/.git/</li>\n</ul>\n<h3 id=\"把文件添加到仓库\">把文件添加到仓库<a href=\"post/git_command#把文件添加到仓库\"></a></h3><ul>\n<li><code>git add filename</code></li>\n</ul>\n<h3 id=\"把文件提交到仓库\">把文件提交到仓库<a href=\"post/git_command#把文件提交到仓库\"></a></h3><ul>\n<li><code>git commit -m &quot;comment message&quot;</code>(-am:添加且提提交)</li>\n</ul>\n<h3 id=\"添加文件到Git仓库，分两步：\">添加文件到Git仓库，分两步：<a href=\"post/git_command#添加文件到Git仓库，分两步：\"></a></h3><ul>\n<li>第一步，使用命令git add ，注意，可反复多次使用，添加多个文件；</li>\n<li>第二步，使用命令git commit，完成。</li>\n</ul>\n<h3 id=\"看结果\">看结果<a href=\"post/git_command#看结果\"></a></h3><ul>\n<li><code>git status</code></li>\n</ul>\n<h3 id=\"看具体修改了什么内容\">看具体修改了什么内容<a href=\"post/git_command#看具体修改了什么内容\"></a></h3><ul>\n<li><code>git diff filename</code></li>\n</ul>\n<h3 id=\"看历史记录\">看历史记录<a href=\"post/git_command#看历史记录\"></a></h3><ul>\n<li><code>git log</code></li>\n<li><code>git log --pretty=oneline</code></li>\n<li><code>git reflog</code></li>\n</ul>\n<h3 id=\"跳到之前版本\">跳到之前版本<a href=\"post/git_command#跳到之前版本\"></a></h3><ul>\n<li>首先，Git必须知道当前版本是哪个版本，在Git中，用HEAD表示当前版本，也就是最新的提交,上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100.</li>\n<li><code>git reset --hard HEAD^</code></li>\n<li><code>git reset --hard 3628164</code>//回到的历史版本号</li>\n</ul>\n<h3 id=\"丢弃工作区的修改\">丢弃工作区的修改<a href=\"post/git_command#丢弃工作区的修改\"></a></h3><ul>\n<li><code>git checkout -- filename</code>//无“–”变成了创建新分支</li>\n<li><code>git reset HEAD filename</code>//把暂存区的修改撤销掉（unstage），重新放回工作区</li>\n</ul>\n<h3 id=\"删除文件\">删除文件<a href=\"post/git_command#删除文件\"></a></h3><ul>\n<li><code>git rm test.txt</code></li>\n<li><code>git commit -m &quot;remove test.txt</code></li>\n</ul>\n<h2 id=\"远程仓库\">远程仓库<a href=\"post/git_command#远程仓库\"></a></h2><h3 id=\"关联一个远程库\">关联一个远程库<a href=\"post/git_command#关联一个远程库\"></a></h3><ul>\n<li><code>git remote add origin git@server-name:path/repo-name.git</code></li>\n<li><code>git push -u origin master</code>//第一次推送内容</li>\n</ul>\n<h3 id=\"克隆仓库\">克隆仓库<a href=\"post/git_command#克隆仓库\"></a></h3><ul>\n<li><code>git clone git://git.kernel.org/pub/scm/git/git.git</code></li>\n<li><code>git clone http://www.kernel.org/pub/scm/git/git.git</code></li>\n</ul>\n<h2 id=\"git分支\">git分支<a href=\"post/git_command#git分支\"></a></h2><h3 id=\"查看分支\">查看分支<a href=\"post/git_command#查看分支\"></a></h3><ul>\n<li><code>git branch</code></li>\n</ul>\n<h3 id=\"创建分支\">创建分支<a href=\"post/git_command#创建分支\"></a></h3><ul>\n<li><code>git branch name</code></li>\n</ul>\n<h3 id=\"切换分支\">切换分支<a href=\"post/git_command#切换分支\"></a></h3><ul>\n<li><code>git checkout name</code></li>\n</ul>\n<h3 id=\"创建-切换分支\">创建+切换分支<a href=\"post/git_command#创建-切换分支\"></a></h3><ul>\n<li><code>git checkout -b name</code></li>\n</ul>\n<h3 id=\"合并某分支到当前分支\">合并某分支到当前分支<a href=\"post/git_command#合并某分支到当前分支\"></a></h3><ul>\n<li><code>git merge name</code></li>\n</ul>\n<h3 id=\"删除分支\">删除分支<a href=\"post/git_command#删除分支\"></a></h3><ul>\n<li><code>git branch -d name</code></li>\n</ul>\n<h2 id=\"其他\">其他<a href=\"post/git_command#其他\"></a></h2><h3 id=\"把当前工作现场“储藏”起来\">把当前工作现场“储藏”起来<a href=\"post/git_command#把当前工作现场“储藏”起来\"></a></h3><ul>\n<li><code>git stash</code> //保存现场，恢复之后再用</li>\n<li><code>git stash list</code>//查看保护现场<ul>\n<li>恢复现场<ul>\n<li><code>git stash apply</code>//恢复后，stash内容并不删除，你需要用<code>git stash drop</code>来删除；</li>\n<li><code>git stash pop</code>//会删掉stash</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"查看远程库的信息\">#查看远程库的信息<a href=\"post/git_command#查看远程库的信息\"></a></h2><ul>\n<li><code>git remote</code></li>\n<li><code>git remote -v</code></li>\n</ul>\n<h2 id=\"推送分支\">推送分支<a href=\"post/git_command#推送分支\"></a></h2><ul>\n<li><code>git push origin master</code></li>\n<li>如果要推送其他分支，比如dev，就改成 <code>git push origin dev</code></li>\n</ul>\n<h3 id=\"指定本地dev分支与远程origin-dev分支的链接\">指定本地dev分支与远程origin/dev分支的链接<a href=\"post/git_command#指定本地dev分支与远程origin-dev分支的链接\"></a></h3><ul>\n<li><code>git branch --set-upstream dev origin/dev</code></li>\n<li><code>git pull</code></li>\n</ul>\n<h2 id=\"tag-标签\">tag 标签<a href=\"post/git_command#tag-标签\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//新建标签</span><br><span class=\"line\">git tag v1.0</span><br><span class=\"line\"></span><br><span class=\"line\">//给commit id 为25656e2的历史版本打标签</span><br><span class=\"line\">git tag v1.0 25656e2</span><br><span class=\"line\"></span><br><span class=\"line\">//查看标签</span><br><span class=\"line\">git tag</span><br></pre></td></tr></table></figure>\n<h3 id=\"用git-show-tagname查看标签信息\">用git show tagname查看标签信息<a href=\"post/git_command#用git-show-tagname查看标签信息\"></a></h3><ul>\n<li><code>git show v1.0</code></li>\n</ul>\n<h3 id=\"推送某个标签到远程\">推送某个标签到远程<a href=\"post/git_command#推送某个标签到远程\"></a></h3><ul>\n<li><code>git push origin v1.0</code></li>\n<li><code>git push origin --tags</code></li>\n</ul>\n<h3 id=\"删除标签\">删除标签<a href=\"post/git_command#删除标签\"></a></h3><p>分两步，1、删除本地；2、删除远程</p>\n<ul>\n<li><code>git tag -d v0.9</code></li>\n<li><code>git push origin :refs/tags/v0.9</code></li>\n</ul>\n<h2 id=\"ignore-文件\">ignore 文件<a href=\"post/git_command#ignore-文件\"></a></h2><p>不需要从头写.gitignore文件，GitHub已经为我们准备了各种配置文件，只需要组合一下就可以使用了。所有配置文件可以直接在线浏览：<a href=\"https://github.com/github/gitignore\" target=\"_blank\" rel=\"noopener\">https://github.com/github/gitignore</a></p>\n<p>忽略文件的原则是：</p>\n<ol>\n<li>忽略操作系统自动生成的文件，比如缩略图等；</li>\n<li>忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的.class文件；</li>\n<li>忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。</li>\n</ol>\n","prev":{"title":"H5动画60fps之路","slug":"H5_animation_60fps"},"next":{"title":"函数式编程","slug":"functional_programming"},"link":"https://vachelhu.github.io/blog/post/git_command/","toc":[{"title":"git命令","id":"git命令","index":"1","children":[{"title":"基础设置","id":"基础设置","index":"1.1","children":[{"title":"用户设置","id":"用户设置","index":"1.1.1"},{"title":"初始化仓库","id":"初始化仓库","index":"1.1.2"},{"title":"把文件添加到仓库","id":"把文件添加到仓库","index":"1.1.3"},{"title":"把文件提交到仓库","id":"把文件提交到仓库","index":"1.1.4"},{"title":"添加文件到Git仓库，分两步：","id":"添加文件到Git仓库，分两步：","index":"1.1.5"},{"title":"看结果","id":"看结果","index":"1.1.6"},{"title":"看具体修改了什么内容","id":"看具体修改了什么内容","index":"1.1.7"},{"title":"看历史记录","id":"看历史记录","index":"1.1.8"},{"title":"跳到之前版本","id":"跳到之前版本","index":"1.1.9"},{"title":"丢弃工作区的修改","id":"丢弃工作区的修改","index":"1.1.10"},{"title":"删除文件","id":"删除文件","index":"1.1.11"}]},{"title":"远程仓库","id":"远程仓库","index":"1.2","children":[{"title":"关联一个远程库","id":"关联一个远程库","index":"1.2.1"},{"title":"克隆仓库","id":"克隆仓库","index":"1.2.2"}]},{"title":"git分支","id":"git分支","index":"1.3","children":[{"title":"查看分支","id":"查看分支","index":"1.3.1"},{"title":"创建分支","id":"创建分支","index":"1.3.2"},{"title":"切换分支","id":"切换分支","index":"1.3.3"},{"title":"创建+切换分支","id":"创建-切换分支","index":"1.3.4"},{"title":"合并某分支到当前分支","id":"合并某分支到当前分支","index":"1.3.5"},{"title":"删除分支","id":"删除分支","index":"1.3.6"}]},{"title":"其他","id":"其他","index":"1.4","children":[{"title":"把当前工作现场“储藏”起来","id":"把当前工作现场“储藏”起来","index":"1.4.1"}]},{"title":"#查看远程库的信息","id":"查看远程库的信息","index":"1.5"},{"title":"推送分支","id":"推送分支","index":"1.6","children":[{"title":"指定本地dev分支与远程origin/dev分支的链接","id":"指定本地dev分支与远程origin-dev分支的链接","index":"1.6.1"}]},{"title":"tag 标签","id":"tag-标签","index":"1.7","children":[{"title":"用git show tagname查看标签信息","id":"用git-show-tagname查看标签信息","index":"1.7.1"},{"title":"推送某个标签到远程","id":"推送某个标签到远程","index":"1.7.2"},{"title":"删除标签","id":"删除标签","index":"1.7.3"}]},{"title":"ignore 文件","id":"ignore-文件","index":"1.8"}]}],"copyright":{"author":"Wenjie Hu","link":"<a href=\"https://vachelhu.github.io/blog/post/git_command/\" title=\"git命令\">https://vachelhu.github.io/blog/post/git_command/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}