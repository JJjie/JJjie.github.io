{"title":"WWW论文分享：多源时序反窃电","date":"2020-04-22T07:30:00.000Z","slug":"hebr","comments":true,"tags":["科研"],"categories":["技术"],"updated":"2020-04-23T04:12:29.803Z","content":"<h1 id=\"HEBR-一种基于多源时序数据的窃电行为识别方法\">HEBR: 一种基于多源时序数据的窃电行为识别方法<a href=\"post/hebr#HEBR-一种基于多源时序数据的窃电行为识别方法\"></a></h1><h4 id=\"Understanding-Electricity-Theft-Behavior-via-Multi-Source-Data\">Understanding Electricity-Theft Behavior via Multi-Source Data<a href=\"post/hebr#Understanding-Electricity-Theft-Behavior-via-Multi-Source-Data\"></a></h4><p><strong>窃电（electricity theft）</strong>指用户为了逃避电费而进行非法操作的一种行为，在发展中国家已成为一种普遍现象。根据2012年的统计数据，印度因窃电而导致其GDP下降了1.5％，印度人口最多的北方邦因窃电而损失了其总电能的36％。这些行为不仅给电力供应商造成难以承受的经济损失，还危及用户甚至整个公众的安全。因此许多供电公司在检测和防止窃电方面付出了巨大的努力。</p>\n<p>常用的反窃电方法可分为两类：一类是基于硬件驱动的反窃电方法，二另一类是基于数据驱动的反窃电方法。两类方法各有优缺点。</p>\n<div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">硬件驱动方法</th>\n<th style=\"text-align:center\">数据驱动方法</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">更新电表结构（全闭合式电表）</td>\n<td style=\"text-align:center\">采集，分析用户用电数据</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">安装集中器</td>\n<td style=\"text-align:center\">采集，分析台区线损数据</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">…</td>\n<td style=\"text-align:center\">…</td>\n</tr>\n</tbody>\n</table></div></div>\n<p>表1列举了一些硬件驱动与数据驱动的反窃电方法。其中，硬件驱动的方法响应快，定位准，但需要非常专业的领域知识，同时随着窃电策略的改变会随即失效；数据驱动的方法通过采集分析全电网的运行数据，具有全盘监控的特点，能与机器学习、人工智能等前沿方法结合，分析其中的异常点，可以及时跟进不断变化的窃电策略，但介于案例稀疏，数据海量且用户行为复杂，目前的方法在准确率上不是很理想。</p>\n<p>针对上述问题，<strong>我们课题组提出了HEBR模型，Hierarchical Electricity-theft \u000bBehavior Recognition (HEBR)，其同时结合多源时序数据用于更准确的窃电行为识别</strong>。</p>\n<p>研究发现，基于三层数据观察所启发构建的HEBR模型，可以有效提高窃电用户的识别准确率，同时模型可以通过可视化的手段展现窃电行为的具体逻辑。同时，模型也与浙江省国家电网合作，在实地排查中取得了不错的效果。</p>\n<p>我们的研究成果 <strong><em>Understanding Electricity-Theft Behavior via Multi-Source Data</em></strong> 被世界万维网顶级会议 WWW-20 以 Oral 论文收录。</p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/title.jpg\" alt data-zoomable></p></div>\n<p><strong>论文标题：</strong>Understanding Electricity-Theft Behavior via Multi-Source Data</p>\n<p><strong>论文来源：</strong>WWW 2020</p>\n<p><strong>论文链接：</strong><a href=\"https://arxiv.org/abs/2001.07311\" target=\"_blank\" rel=\"noopener\">https://arxiv.org/abs/2001.07311</a></p>\n<p><strong>代码链接：</strong><a href=\"https://github.com/zjunet/HEBR\" target=\"_blank\" rel=\"noopener\">https://github.com/zjunet/HEBR</a></p>\n<hr>\n\n<h4 id=\"那么，HEBR-是如何建模的呢？我们首先从数据出发。\">那么，HEBR 是如何建模的呢？我们首先从数据出发。<a href=\"post/hebr#那么，HEBR-是如何建模的呢？我们首先从数据出发。\"></a></h4><div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/research/theft_re.jpg\" alt=\"图1 用于反窃电的三层多源数据结构\" style=\"zoom:70%;\" data-zoomable></p></div>\n<p>上图展示了三层多源数据：最下层是用户数据，反应的是用户的个人用电情况；上一层是台区（变压器区域）数据，反应的是一个社区（或村庄）的整体线损情况；最上层是天气，反应的是一个城市整体的气候状况。</p>\n<p>对于这三个不同层次的数据，分别进行数据观察，探寻里面与窃电行为有关的模式：</p>\n<h4 id=\"微观级别的观察（用户）\">微观级别的观察（用户）<a href=\"post/hebr#微观级别的观察（用户）\"></a></h4><div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/user_level.jpg\" alt=\"图2 用户用电与窃电行为的关系\" style=\"zoom:30%;\" data-zoomable></p></div>\n<p>上图展示了基于用户用电数据的分析：</p>\n<ul>\n<li><p>a 可视化了每天峰（on-peak）谷（off-peak）两种用电情况，红色的区域代表该用户被抓到窃电。可以看到当被抓到窃电时，其后统计到的用电都在大幅增加。</p>\n</li>\n<li><p>b 在所有的数据上，对被抓窃电前后的用户用电进行对比（左二），并用正常用户（右二）同一时刻前后的用电量做对照试验，发现，被抓窃电后，窃电用户的用电量会急剧增加，同时，窃电用户整体的用电也比正常用户大，说明<strong>只有很高用电需求的人才有可能会去窃电</strong>。</p>\n</li>\n<li>除了用电量统计，我们还对比了用电的趋势。c 展示了所有用户8月份到10月份用电的一阶回归斜率值。随着温度降低，正常用户（黄色）的峰值基本都是小于0，说明用电再减少，而窃电用户（蓝色）峰值在0左右，说明用电没有啥变化。这说明<strong>窃电用户的用电轨迹与正常人不同</strong>。</li>\n</ul>\n<h4 id=\"中观级别的观察（台区）\">中观级别的观察（台区）<a href=\"post/hebr#中观级别的观察（台区）\"></a></h4><div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/loss.jpg\" alt=\"图3 台区线损与窃电行为的关系\" style=\"zoom: 30%;\" data-zoomable></p></div>\n<p>除了用户级别的观察，我们展示了台区每天的线损变化情况与用户用电的关系。</p>\n<ul>\n<li>a 展示了一个案例，黄色虚线代表台区每天的线损电量，蓝色实现代表与之对应的台区下一个窃电用户的用电曲线，红色区域代表被抓窃电。可以看到，当用户用电很低，台区的线损就高，<strong>用户窃电造成了台区线损的升高</strong>。</li>\n<li>b 在所有数据上做了统计分析。可以看到，正常用户（绿色）在红色区域前后用电模式基本不变，而窃电用户在被抓之前，用户的用电与台区的线损呈现负相关关系。说明<strong>台区的线损可以对当前台区下是否有人窃电有很好的指示作用</strong>。</li>\n</ul>\n<h4 id=\"宏观级别的观察（气候）\">宏观级别的观察（气候）<a href=\"post/hebr#宏观级别的观察（气候）\"></a></h4><p>气候，或者说温度，与人们的行为，特别是用电行为息息相关，例如空调、电热毯的使用等。这里先看一组统计：</p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/steal_num.jpg\" alt=\"图4 一年中不同月份被抓窃电案例的统计\" style=\"zoom:50%;\" data-zoomable></p></div>\n<p>上图展示了一年中不同月份，被抓窃电案例个数的统计，可以看到夏天（7-9月）和冬天（11-1月），被抓个数明显比其他月份要多，而这两季节，正好是用电需求高发的时间。因此，我们尝试探寻温度因素与用户用电行为的关系。</p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/climate_analysis.jpg\" alt=\"图5 气候变化与窃电行为的关系\" style=\"zoom:35%;\" data-zoomable></p></div>\n<p>这里展示了气温与用户用电行为之间的关系。</p>\n<ul>\n<li>a 展示了一年中整体的气温变化（黄线）与用户整体的用电（蓝线）之间的关系。可以看到，在夏天（或冬天），<strong>温度升高（降低），用户们的用电就会升高</strong>。他们呈现非常强的关联关系；</li>\n<li>b 将温度划分为不同的区间，统计了该区间下正常用户（黄色）与窃电用户（蓝色）之间的用电分布，可以看到，当高温（&gt;30ºC），或者低温（&lt;9ºC）环境下，两者之间的用电分布差别很大；</li>\n<li>我们通过二元回归的方式，将不同温度下的用电情况进行拟合，发现，窃电用户用电与温度不能很好的拟合成一套规整的线（c）而正常用户可以（d）。e 将散点之间的拟合差的平均值通过概率密度函数（probability density function）进行比较。可以看到，正常用户与窃电用户之间存在差别。</li>\n</ul>\n<hr>\n\n<p>至此，通过三层的分析，该研究展现了不同的多源数据能反应用户不同层级的用电行为，为探寻窃电用户提供了很高的依据。然而，如何将这些多源的时序数据整合到一个模型，统一的做用户是否窃电的判断呢？<strong>我们提出了一个层次化的深度模型，名字叫 HEBR</strong></p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/model.jpg\" style=\"zoom:18%;\" data-zoomable></p></div>\n<p>上图展示了HEBR 的整体结构，它基于三层（用户，台区，气温）时序数据，逐层做信息抽取与融合，最终将组合的特征用户窃电行为的判定。</p>\n<p>具体的，对于每一步融合，我们提出一个多步加时间关注（multi-step fusion）的融合机制</p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/review.jpg\" alt=\"图7 多步层级融合机制\" style=\"zoom:35%;\" data-zoomable></p></div>\n<p>对于两种不同源数据的RNN的隐层表达，其中一个主要方（这个场景里是用户用电数据），对于每个时间步t，次要方（如：台区线损，气温）将前面多步的信息都用于当前的信息融合，再做局部attention。这里做的目的是，线损或气温对当前用户用电的影响是有时延的，例如气温升高，并不会让用户马上开空调增加用电；但一段时间的高温就肯定会。我们通过这种多步融合机制，对多源信息的组合做更多的关联信息抽取。</p>\n<hr>\n\n<p>我们在浙江省国家电网提供的2017-2019 2年多的真实数据上进行实验，对比了诸多常用方法和之前的反窃电模型。结果如下图所示。可以发现，HEBR模型无论precision和F0.5 这两个指标上，比baseline要好，这对于实际的排查来说更加友好。</p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/exp.jpg\" alt=\"图8 实验结果\" style=\"zoom:40%;\" data-zoomable></p></div>\n<p>同时为了说明模型设计的有效性，我们还做了多种消融研究（ablation study）</p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/exp1.jpg\" alt=\"图9 多源数据对模型反窃电表现的影响\" style=\"zoom:40%;\" data-zoomable></p></div>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/exp2.jpg\" alt=\"图10 融合机制对模型反窃电表现的影响\" style=\"zoom:40%;\" data-zoomable></p></div>\n<p>上面两图分别展现了不同源数据 与 融合机制 对HEBR 反窃电准确度的影响，可以看到，删去气温或线损信息，都会导致反窃电准确度大大降低；同时，不采用多步融合机制或attention操作，都会让模型效果下降。</p>\n<p>除了实验，我们也与浙江省国家电网合作，在浙江杭州进行了排查，实地抓到了若干窃电用户。其中一个案例如下：</p>\n<div class=\"article-img\"><p><img src=\"https://vachelhu.github.io/source/img/blog/hebr/exp_case.jpg\" alt=\"图11 实地排查中抓到的窃电用户案例\" style=\"zoom:35%;\" data-zoomable></p></div>\n<p>如图所示，从上到下依次展现了气温变化，台区线损变化，与用户用电的三种曲线；热力图代表了HEBR模型三层不同位置的attention得分，红色区域代表其被抓到的时间。可以看到，当用户用电降低，台区线损升高，同时温度很高的情况下，热力图对应的区域就越亮，attention的得分就越高。说明<strong>HEBR模型可以很好的捕捉到用户窃电的模式</strong>。</p>\n<hr>\n\n<p>总的来说，这一工作提出的 HRBR，其分析了多源数据与窃电行为之间的关联，通过<strong>构建层次化的深度模型组合不同源的时序数据</strong>，用户窃电用户识别</p>\n<p>实验证明 HEBR 可以有效的识别出窃电用户，同时可以通过可视化attention得分获知该用户具体的窃电模式，在实地排查中取得很好的效果。</p>\n<p>对于未来的工作，探寻更多有关联的多源数据，以及针对极端不平衡的分类问题，对实现高效的数据驱动反窃电十分重要，这将方便于HEBR发挥更大的能力，提高电网的智能化建设与安全水平。</p>\n","next":{"title":"2019年度总结","slug":"summary_2019"},"link":"https://vachelhu.github.io/blog/post/hebr/","toc":[{"title":"HEBR: 一种基于多源时序数据的窃电行为识别方法","id":"HEBR-一种基于多源时序数据的窃电行为识别方法","index":"1"}],"copyright":{"author":"Wenjie Hu","link":"<a href=\"https://vachelhu.github.io/blog/post/hebr/\" title=\"WWW论文分享：多源时序反窃电\">https://vachelhu.github.io/blog/post/hebr/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}